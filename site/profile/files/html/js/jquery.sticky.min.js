/*!
 * jquery.sticky
 *
 * @author Wil Neeley <william.neeley@gmail.com> (https://github.com/Xaxis)
 * @version 1.0.0
 * @license MIT
 */
!function(a,b,c,d){"use strict";function e(b,c){this._name=f,this._defaults=g,this.element=b,this.options=a.extend({},g,c),this.init()}var f="sticky",g={start:"top",end:"top",smooth:!1,stack:!1,onStick:null,onUnstick:null};a.extend(e.prototype,{init:function(){var c=this,d=0;c.options.stack&&a("[data-sticky-stack-elm]").each(function(b,c){var e=a(c),f=e.outerHeight();d+=f}),a(b).on("scroll",function(a){c.trackElementScrollPosition.call(c,d,a)}),c.trackElementScrollPosition(d)},trackElementScrollPosition:function(c,d){var e=this;a(this.element).each(function(d,f){var g=a(f),h=g.offset(),i=h.top,j=g.outerHeight(),k=a(b).scrollTop(),l=g.css("position"),m=g.data("stick_point"),n=a("[data-sticky-stack-elm]").length;switch(!g.attr("data-sticky-stack-elm")&&e.options.stack&&g.attr("data-sticky-stack-elm",n+1),g.data("stack_height",c),e.options.start){case"top":"fixed"!=l&&k+c>i?e.stickElement.call(e,g,i-c):("fixed"==l&&"top"==e.options.end&&m>=k||"fixed"==l&&"bottom"==e.options.end&&m-j>k||"fixed"==l&&"bottom"==e.options.end&&0>=k)&&e.unstickElement.call(e,g);break;case"bottom":"fixed"!=l&&k>i+j-c?e.stickElement.call(e,g,i+j-c):("fixed"==l&&"top"==e.options.end&&m-j>=k||"fixed"==l&&"bottom"==e.options.end&&m>k||"fixed"==l&&"bottom"==e.options.end&&0>=k)&&e.unstickElement.call(e,g)}e.options.stack&&(c+=j)})},stickElement:function(b,c){var d=b.data("stuck");if(!d){if(b.data("stuck",!0),b.data("stick_point",c),this.options.smooth){var e=a("<div>");e.css("height",b.outerHeight()).insertBefore(b),b.data("dim_elm",e)}b.css({position:"fixed",top:b.data("stack_height")}),this.options.onStick&&this.options.onStick(b)}},unstickElement:function(a){var b=a.data("stuck");if(b){if(a.data("stuck",!1),a.css("position",""),this.options.smooth){var c=a.data("dim_elm");c.remove()}this.options.onUnstick&&this.options.onUnstick(a)}}}),a.fn[f]=function(b){return a.data(this,"plugin_"+f,new e(this,b))}}(jQuery,window,document);
